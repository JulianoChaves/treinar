<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html; charset=UTF-8" encoding="UTF-8" locale="#{localeController.locale}">
<h:head>
	<title>Agenda JSF</title>
</h:head>
<h:body>
	<h:form>
		
		<h:panelGrid columns="2">
		
			<p:outputLabel value="Nome" for="nome" />
			<p:inputText id="nome" value="#{contatoController.contato.pessoa.nome}" required="true"/>
			<p:outputLabel value="Data Nascimento" for="dataNascimento" />
			<p:calendar id="dataNascimento" showOn="button" 
						value="#{contatoController.contato.pessoa.dataNascimento}">
				<f:convertDateTime pattern="dd/MM/yyyy" />
			</p:calendar>
			<h:outputLabel value="E-mail" for="email" />
			<p:inputText id="email" value="#{contatoController.contato.email}" />
			<h:outputLabel value="Telefone" for="telefone" />
			<h:panelGroup>
				<p:inputMask id="telefone" size="10" mask="(99)99999999"
							 value="#{contatoController.contato.telefone}">
					<f:converter converterId="br.com.treinar.agenda.TelefoneConverter"/>
				</p:inputMask>
				<h:selectOneMenu value="#{contatoController.contato.telefone.tipo}">
				<f:selectItems value="#{applicationController.tipos}" var="tipo" 
							   itemLabel="#{tipo.descricao}" itemValue="#{tipo}" />
				</h:selectOneMenu>
			</h:panelGroup>
			<p:commandButton action="#{contatoController.salvar()}" value="Salvar" 
							 update=":body :template:message"/>
		
		</h:panelGrid>
	</h:form>
</h:body>	

</f:view>
</html>